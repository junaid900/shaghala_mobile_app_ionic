{"version":3,"file":"src_app_comapny-detail_comapny-detail_module_ts.js","mappings":"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","sources":["./src/app/comapny-detail/comapny-detail-routing.module.ts","./src/app/comapny-detail/comapny-detail.module.ts","./src/app/comapny-detail/comapny-detail.page.ts","./src/app/comapny-detail/comapny-detail.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ComapnyDetailPage } from './comapny-detail.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ComapnyDetailPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ComapnyDetailPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ComapnyDetailPageRoutingModule } from './comapny-detail-routing.module';\n\nimport { ComapnyDetailPage } from './comapny-detail.page';\nimport { ComponentModule } from '../component/component.module';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ComapnyDetailPageRoutingModule,\n    ComponentModule,\n    TranslateModule\n  ],\n  declarations: [ComapnyDetailPage]\n})\nexport class ComapnyDetailPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, NavigationExtras, Router } from '@angular/router';\nimport { CallNumber } from '@awesome-cordova-plugins/call-number/ngx';\nimport { Share } from '@capacitor/share';\nimport { NavController, Platform } from '@ionic/angular';\nimport { ApiService } from '../services/api.service';\nimport { addFavApi, appSettingApi, baseUrl, getWorkerByAdvType, getWorkerByCompany } from '../services/api_url.hepler';\nimport { getUserId } from '../services/constrant.helper';\nimport { getLang } from '../services/local.helper';\nimport { getUser } from '../services/session.helper';\nimport { UtilsService } from '../services/utils.service';\n\n@Component({\n  selector: 'app-comapny-detail',\n  templateUrl: './comapny-detail.page.html',\n  styleUrls: ['./comapny-detail.page.scss'],\n})\nexport class ComapnyDetailPage implements OnInit {\n  company: any = {};\n  isLoading: boolean =false;\n  list: any = [];\n  appUrl = baseUrl;\n  user = getUser();\n  settings: any = {};\n  constructor(\n    private navCtrl: NavController,\n    private route: ActivatedRoute,\n    private util: UtilsService,\n    private api: ApiService,\n    private router: Router,\n    private platform: Platform,\n    private callNumber: CallNumber,\n  ) {\n    this.route.queryParams.subscribe(params => {\n      try {\n        // console.log(params);\n        this.company = JSON.parse(params.comapny);\n        console.log(this.company)\n        this.getPageData(this.company.user_id);\n      } catch (e) {\n        console.log(e);\n      }\n    });\n  }\n  async getSettings() {\n    // this.isSettingLoading = true;\n    let response = await this.api.getRequest(appSettingApi);\n    // this.isSettingLoading = false;\n    if (response) {\n      this.settings = response;\n    }\n    console.log(response);\n  }\n  goBack(){\n    this.navCtrl.back();\n  }\n\n  ngOnInit() {\n    this.getSettings();\n  }\n  async getPageData(company_id) {\n    this.isLoading = true;\n    // let id = await getUserId();\n    let response = await this.api.getRequest(getWorkerByCompany + '/' +company_id+ '?lang=' + getLang() + '&id=' + (await getUserId()));\n    this.isLoading = false;\n    console.log(response);\n    if (response) {\n      this.list = response;\n    } else {\n      this.util.showToast(\"No worker found\");\n    }\n  }\n\n\n  async addToFav(item) {\n    let id = await getUserId();\n    this.util.showProgressDialog();\n    let response = await this.api.postRequest({\n      worker_id: item.worker_id,\n      reference: id\n    }, addFavApi, true);\n    this.util.hideProgressDialog();\n    console.log(response);\n    if (response) {\n      item.fav = item.fav == 1 ? 0 : 1;\n      // this.getPageData();\n    }\n  }\n  goToWorkerDetail(item) {\n    let navExtras: NavigationExtras = {\n      queryParams: { worker: JSON.stringify(item) }\n    }\n    this.router.navigate(['worker-detail'],navExtras);\n  }\n  numberCall(){\n    // console.log(this.worker.phone);\n    this.callNumber.callNumber(this.company.phone, true)\n      .then(res => console.log('Launched dialer!', res))\n      .catch(err => console.log('Error launching dialer', err));\n  }\n  async shareApp() {\n    if (!this.settings.share_text) {\n      this.util.showToast(\"Cannot get url to share try next time\");\n      this.getSettings();\n      return;\n    }\n    let url = '';\n    if (this.platform.is('android')) {\n      url = this.settings.android_app_url;\n    } else if (this.platform.is('ios')) {\n      url = this.settings.ios_app_url;\n    }\n    console.log(url);\n    if (url.length < 1) {\n      this.util.showToast(\"Cannot get url\");\n      return;\n    }\n\n    await Share.share({\n      title: 'Share Shkalah App',\n      text: this.settings.share_text,\n      url: url,\n      dialogTitle: 'Share with people',\n    });\n  }\n\n}\n","export default \"<ion-row class=\\\"header pt6\\\">\\n  <!-- <ion-col size=\\\"1.5\\\" class=\\\"text-center m-auto\\\">\\n    <img src=\\\"assets/images/menu.png\\\" alt=\\\"\\\">\\n  </ion-col> -->\\n  <ion-col size=\\\"1.5\\\" class=\\\"text-center m-auto\\\">\\n    <img src=\\\"assets/images/back.png\\\" (click)=\\\"goBack()\\\" alt=\\\"\\\">\\n    <!-- <img src=\\\"assets/images/menu.png\\\" alt=\\\"\\\"> -->\\n  </ion-col>\\n  <ion-col size=\\\"7.5\\\" class=\\\"m-auto\\\">\\n    <!-- <ion-title>\\n        Tab 2\\n      </ion-title> -->\\n  </ion-col>\\n  <ion-col size=\\\"1.5\\\" class=\\\"m-auto text-center\\\">\\n    <!-- <img src=\\\"assets/images/setting.png\\\" alt=\\\"\\\"> -->\\n  </ion-col>\\n</ion-row>\\n\\n<ion-content>\\n  <div class=\\\" top-container\\\">\\n  </div>\\n  <div class=\\\"worker-detail-page\\\">\\n    <ion-row>\\n      <ion-col size=\\\"4\\\" class=\\\"profile-col p0\\\">\\n        <img class=\\\"profile-image\\\" src=\\\"{{appUrl + company.user_image}}\\\"\\n          onerror=\\\"this.src = 'assets/images/image-placeholder.jpeg'\\\" alt=\\\"\\\">\\n      </ion-col>\\n      <ion-col size=\\\"7\\\" class=\\\"p0 pl10 profile-head-container\\\">\\n        <ion-row>\\n          <ion-col size=\\\"12\\\">\\n            <ion-row class=\\\"ion-justify-content-end btn-contact\\\">\\n              <ion-col size=\\\"2\\\" class=\\\"contact-btn\\\" (click)=\\\"shareApp()\\\">\\n                <!-- <ion-button size=\\\"small\\\"> -->\\n                <img src=\\\"assets/images/share.png\\\" alt=\\\"\\\">\\n                <!-- </ion-button> -->\\n              </ion-col>\\n              <ion-col size=\\\"1\\\"></ion-col>\\n              <ion-col size=\\\"2\\\" *ngIf=\\\"user.type != 'local'\\\" class=\\\"contact-btn\\\" (click)=\\\"numberCall()\\\">\\n                <img src=\\\"assets/images/phone.png\\\" alt=\\\"\\\">\\n              </ion-col>\\n            </ion-row>\\n          </ion-col>\\n        </ion-row>\\n        <h3 class=\\\"cwhite oneline-elipsize MyriadPro-Bold p0 m0\\\">{{company.name}}</h3>\\n        <p class=\\\"p0 m0 cwhite MyriadPro-Regular oneline-elipsize\\\">{{company.address}}</p>\\n        <!-- <p class=\\\"p0 m0 cwhite MyriadPro-Regular oneline-elipsize\\\">{{worker.place_of_living}}</p> -->\\n      </ion-col>\\n    </ion-row>\\n    <div>\\n      <ion-row>\\n        <ion-col size=\\\"12\\\">\\n          <div class=\\\"main-detail-container\\\">\\n            <ion-row>\\n              <ion-col>\\n                <ion-label>{{\\\"Status\\\" | translate}}</ion-label>\\n                <p class=\\\"p0 m0\\\" style=\\\"color: green;\\\">{{company.admin_status == 'Active' ? 'Verified':'Not Verified'}}</p>\\n              </ion-col>\\n              <ion-col *ngIf=\\\"user.type != 'local'\\\">\\n                <ion-label>{{\\\"Phone\\\" | translate}}</ion-label>\\n                <p class=\\\"p0 m0\\\">+{{company.phone.replace(\\\"-\\\",'')}}</p>\\n              </ion-col>\\n            </ion-row>\\n          </div>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row>\\n        <ion-col size=\\\"12\\\">\\n          <h2 class=\\\"cblack\\\">\\n            {{\\\"Workers\\\" | translate}}\\n          </h2>\\n        </ion-col>\\n        <ion-col size=\\\"12\\\">\\n          <ion-row>\\n            <ion-col size=\\\"5.6\\\" *ngFor=\\\"let item of list\\\">\\n              <div class=\\\"emp-item cblack  d-flex flex-direction-column\\\">\\n                <!-- <ion-icon name=\\\"heart\\\" class=\\\"fav-icon\\\"></ion-icon> -->\\n                <img *ngIf=\\\"item.fav != 1\\\" (click)=\\\"addToFav(item)\\\" src=\\\"assets/images/fav-heart.png\\\" class=\\\"fav-icon\\\"\\n                  width=\\\"30px\\\" alt=\\\"\\\">\\n                <img *ngIf=\\\"item.fav > 0\\\" (click)=\\\"addToFav(item)\\\" src=\\\"assets/images/fav-heart-red.png\\\" class=\\\"fav-icon\\\"\\n                  width=\\\"30px\\\" alt=\\\"\\\">\\n      \\n                <img (click)=\\\"goToWorkerDetail(item)\\\" src=\\\"{{appUrl + item.image}}\\\"\\n                  onerror=\\\"this.src = 'assets/images/image-placeholder.jpeg'\\\" alt=\\\"\\\" class=\\\"worker-img\\\">\\n                <ion-row class=\\\"info-container\\\" (click)=\\\"goToWorkerDetail(item)\\\">\\n                  <ion-col>\\n                    <h6 class=\\\"MyriadPro-Bold cblack m0 ion-text-center w100\\\">{{item.lang_name}}</h6>\\n                    <div class=\\\"emp-info\\\">\\n                      <ion-label class=\\\"MyriadPro-Regular\\\">{{item.en_religion}}</ion-label>\\n                      <p class=\\\"m0 p0 MyriadPro-Regular\\\">{{item.place_of_living}} | {{item.age}} {{\\\"years old\\\" | translate}}\\n                      </p>\\n                    </div>\\n                  </ion-col>\\n                </ion-row>\\n              </div>\\n            </ion-col>\\n          </ion-row>\\n        </ion-col>\\n      </ion-row>\\n\\n\\n    </div>\\n\\n  </div>\\n</ion-content>\";"],"names":[],"sourceRoot":"webpack:///"}