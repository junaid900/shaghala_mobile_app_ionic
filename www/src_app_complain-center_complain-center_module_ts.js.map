{"version":3,"file":"src_app_complain-center_complain-center_module_ts.js","mappings":"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","sources":["./src/app/complain-center/complain-center-routing.module.ts","./src/app/complain-center/complain-center.module.ts","./src/app/complain-center/complain-center.page.ts","./src/app/complain-center/complain-center.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ComplainCenterPage } from './complain-center.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ComplainCenterPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ComplainCenterPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ComplainCenterPageRoutingModule } from './complain-center-routing.module';\n\nimport { ComplainCenterPage } from './complain-center.page';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ComplainCenterPageRoutingModule,\n    TranslateModule,\n  ],\n  declarations: [ComplainCenterPage]\n})\nexport class ComplainCenterPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Device } from '@capacitor/device';\nimport { NavController } from '@ionic/angular';\nimport { TranslateService } from '@ngx-translate/core';\nimport { ApiService } from '../services/api.service';\nimport { addComplainApi, departmentApi } from '../services/api_url.hepler';\nimport { getUser } from '../services/session.helper';\nimport { UtilsService } from '../services/utils.service';\n\n@Component({\n  selector: 'app-complain-center',\n  templateUrl: './complain-center.page.html',\n  styleUrls: ['./complain-center.page.scss'],\n})\nexport class ComplainCenterPage implements OnInit {\n\n  selectedType: any = 'comp';\n  isLoading: boolean = false;\n  deptList: any = [];\n  formData: any = {};\n  constructor(\n    private router: Router,\n    private navCtrl: NavController,\n    private translate: TranslateService,\n    private api: ApiService,\n    private util: UtilsService,\n  ) { }\n  async getPageData() {\n    this.isLoading = true;\n    var response = await this.api.getRequest(departmentApi);\n    this.isLoading = false;\n    this.deptList = response;\n    if (response) {\n      console.log(response);\n      this.deptList = response;\n    }\n\n  }\n\n  ngOnInit() {\n    this.getPageData();\n  }\n  goBack() {\n    this.navCtrl.back();\n  }\n  changeType(type) {\n    this.selectedType = type;\n  }\n\n  async send() {\n    if (!this.formData.dept_id) {\n      this.util.showToast(\"Please select a department\");\n      return;\n    }\n    if (!this.formData.message) {\n      this.util.showToast(\"Please message field cannot be empty\");\n      return;\n    }\n    if (this.formData.message.length < 10) {\n      this.util.showToast('Message length must be greater then 10');\n      return;\n    }\n    if (getUser().type != 'local')\n      this.formData.user_id = getUser().user_id;\n    else\n      this.formData.user_id = (await Device.getId()).uuid;\n    this.formData.type = this.selectedType == \"comp\" ? \"Complain\" : \"Suggestion\";\n    this.util.showProgressDialog();\n    var response = await this.api.postRequest(this.formData, addComplainApi);\n    this.util.hideProgressDialog();\n    if (response) {\n      console.log(response);\n      this.navCtrl.back();\n    }\n  }\n\n}\n","export default \"<ion-row class=\\\"header pt6\\\">\\n  <!-- <ion-col size=\\\"1.5\\\" class=\\\"text-center m-auto\\\">\\n    <img src=\\\"assets/images/menu.png\\\" alt=\\\"\\\">\\n  </ion-col> -->\\n  <ion-col size=\\\"1.5\\\" class=\\\"text-center m-auto\\\">\\n    <img src=\\\"assets/images/back.png\\\" (click)=\\\"goBack()\\\" alt=\\\"\\\">\\n    <!-- <img src=\\\"assets/images/menu.png\\\" alt=\\\"\\\"> -->\\n  </ion-col>\\n  <ion-col size=\\\"7.5\\\" class=\\\"m-auto\\\">\\n    <!-- <ion-title>\\n        Tab 2\\n      </ion-title> -->\\n  </ion-col>\\n  <ion-col size=\\\"1.5\\\" class=\\\"m-auto text-center\\\">\\n    <!-- <img src=\\\"assets/images/setting.png\\\" alt=\\\"\\\"> -->\\n  </ion-col>\\n</ion-row>\\n\\n<ion-content>\\n  <div class=\\\"top-container\\\">\\n    <ion-row>\\n      <ion-col size=\\\"9\\\">\\n        <h1 class=\\\"heading m0\\\">{{\\\"Complaints and suggestions\\\" | translate}} </h1>\\n      </ion-col>\\n      <ion-col size=\\\"3\\\" class=\\\"d-flex ion-align-items-center\\\">\\n        <img src=\\\"assets/images/edit-setting.png\\\" width=\\\"40px\\\" height=\\\"40px\\\" alt=\\\"\\\">\\n      </ion-col>\\n    </ion-row>\\n  </div>\\n  <ion-row>\\n    <ion-col size=\\\"12\\\" class=\\\"d-flex ion-justify-content-center mt10\\\">\\n      <div class=\\\"comp-type-container\\\">\\n        <div (click)=\\\"changeType('sugg')\\\"\\n          [ngClass]=\\\"selectedType == 'sugg'?'comp-item-container-active':'comp-item-container'\\\" class=\\\"touch-opacity\\\">\\n          <ion-label class=\\\"individual-label\\\">\\n            {{\\\"Suggestions\\\" | translate}}\\n          </ion-label>\\n        </div>\\n        <div (click)=\\\"changeType('comp')\\\"\\n          [ngClass]=\\\"selectedType == 'comp'?'comp-item-container-active':'comp-item-container'\\\" class=\\\"touch-opacity\\\">\\n          {{\\\"Complaint\\\" | translate}}\\n        </div>\\n      </div>\\n    </ion-col>\\n    <ion-col>\\n      <p class=\\\"m0 cblack desc\\\">{{\\\"We are happy to have suggestions that you have to help us develop the application, if you have a complaint, please click on the complaint button\\\" | translate}}</p>\\n    </ion-col>\\n    <ion-col size=\\\"12\\\" class=\\\"d-flex justify-content-center align-items-center\\\" *ngIf=\\\"isLoading\\\">\\n      <ion-spinner name=\\\"\\\"></ion-spinner>\\n    </ion-col>\\n    <ion-col size=\\\"12\\\" *ngIf=\\\"!isLoading\\\">\\n      <div class=\\\"form-container\\\">\\n        <ion-row>\\n          <ion-col size=\\\"12\\\">\\n            <ion-label>{{\\\"Department\\\" | translate}}</ion-label>\\n            <ion-select [(ngModel)]=\\\"formData.dept_id\\\" placeholder=\\\"{{'Choose Department' | translate}}\\\">\\n              <ion-select-option *ngFor=\\\"let item of deptList\\\" value=\\\"{{item.dept_id}}\\\">{{item.dept_name}}</ion-select-option>\\n            </ion-select>\\n          </ion-col>\\n          <ion-col size=\\\"12\\\">\\n            <ion-label>{{'Message' | translate}}</ion-label>\\n            <ion-textarea [(ngModel)]=\\\"formData.message\\\" class=\\\"other\\\" placeholder=\\\"{{'Write your message here......' | translate}}\\\"></ion-textarea>\\n          </ion-col>\\n          <ion-col size=\\\"12\\\">\\n            <!-- <ion-label>Message</ion-label> -->\\n            <ion-button (click)=\\\"send()\\\" class=\\\"btn-send\\\" color=\\\"none\\\">{{'Send' | translate}}</ion-button>\\n          </ion-col>\\n\\n        </ion-row>  \\n      </div>\\n    </ion-col>\\n  </ion-row>\\n\\n</ion-content>\";"],"names":[],"sourceRoot":"webpack:///"}